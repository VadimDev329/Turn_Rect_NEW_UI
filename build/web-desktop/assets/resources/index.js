System.register("chunks:///_virtual/Game_Turn.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,o,r,s,n,a,h,c,u,l,p,g,d,m,f,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){s=t.cclegacy,n=t.EventTarget,a=t._decorator,h=t.Label,c=t.Node,u=t.resources,l=t.SpriteFrame,p=t.Graphics,g=t.Vec3,d=t.math,m=t.Input,f=t.Sprite,_=t.Component}],execute:function(){var T,v,y,w,S,b,F,R,C;s._RF.push({},"5a020S8JeBPW5KEFDNgkWTm","Game_Turn",void 0);new n;var E=a.ccclass,D=a.property;t("Game",(T=E("Game"),v=D({type:h}),y=D({type:h}),w=D({type:h}),T((F=e((b=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return e=t.call.apply(t,[this].concat(s))||this,o(e,"scoreX",F,r(e)),o(e,"timer",R,r(e)),o(e,"game_state",C,r(e)),e.row=6,e.col=6,e.height=80,e.width=80,e.sprite=[],e.angle=[],e.grid_pos=[],e.url="images/",e.count=80,e.score=0,e}i(e,t);var s=e.prototype;return s.onLoad=function(){this.node.on(c.EventType.TOUCH_START,this.onTouchStart,this),this.schedule(this._timer,1),this.draw_grid(6,6,80,80),this.find_target_pos(),this.create_sprites2(this.url),u.load("images/1/spriteFrame",l,(function(t,e,i){console.log("finish = "+t),console.log("total = "+e),console.log("item = "+i)}),(function(t,e){}))},s.start=function(){},s.draw_grid=function(t,e,i,o){var r=0,s=0,n=this.getComponent(p);n.lineWidth=3;for(var a=0;a<t+1;a++)n.moveTo(0,s),n.lineTo(o*e,s),s+=i;r=0,s=0;for(var h=0;h<e+1;h++)n.moveTo(r,0),n.lineTo(r,i*t),r+=o;n.stroke()},s.find_target_pos=function(){for(var t=this.width/2,e=this.row*this.height-this.height/2,i=0;i<this.row*this.col;i++)i%this.col==0&&i>0&&(t=this.width/2,e-=this.height),this.grid_pos[i]=new g(0,0,0),this.grid_pos[i].x=t,this.grid_pos[i].y=e,t+=this.width},s.create_sprites=function(t){for(var e=this,i="",o=0,r=function(r){i=t+String(r+1)+"/spriteFrame",u.load(i,l,(function(t,i){e.sprite[r]=new c(String(r)).addComponent(f),e.node.addChild(e.sprite[r].node),e.sprite[r].spriteFrame=i,e.sprite[r].node.setPosition(e.grid_pos[r]),(o=d.randomRangeInt(0,360))>0&&o<=90&&(o=90),o>90&&o<=180&&(o=180),o>180&&o<=270&&(o=270),o>270&&o<=360&&(o=0),e.angle[r]=o,e.sprite[r].node.setRotationFromEuler(0,0,o),e.sprite[r].node.on(c.EventType.TOUCH_START,(function(t){}),e)}))},s=0;s<this.col*this.row;s++)r(s)},s.create_sprites2=function(t){for(var e=this,i="",o=function(o){i=t+String(o+1)+"/spriteFrame",u.load(i,l,(function(t,i){e.sprite[o]=new c(String(o)).addComponent(f),e.node.addChild(e.sprite[o].node),e.sprite[o].spriteFrame=i}))},r=0;r<this.col*this.row;r++)o(r);console.log("setTimeout = "+setTimeout((function(){e.initS(),e._score()}),900))},s.initS=function(){for(var t=0,e=0;e<this.col*this.row;e++)this.sprite[e].node.setPosition(this.grid_pos[e]),(t=d.randomRangeInt(0,360))>0&&t<=90&&(t=90),t>90&&t<=180&&(t=180),t>180&&t<=270&&(t=270),t>270&&t<=360&&(t=0),this.angle[e]=t,this.sprite[e].node.setRotationFromEuler(0,0,t),this.sprite[e].node.on(c.EventType.TOUCH_START,(function(t){}),this)},s.onTouchStart=function(t){var e=Number(t.target.name);this.angle[e]=this.angle[e]+90,360==this.angle[e]&&(this.angle[e]=0),this.sprite[e].node.setRotationFromEuler(0,0,this.angle[e]),this.game_victory(),this.scoreX&&(this.scoreX.string="Score "+this.score)},s._timer=function(){this.count--,this.timer&&(this.timer.string="TIME "+String(this.count)),0==this.count&&(this.game_over(),this.unschedule(this._timer))},s._score=function(){for(var t=0,e=0;e<this.col*this.row;e++)0==this.angle[e]&&t++,this.score=t;this.scoreX&&(this.scoreX.string="Score "+this.score)},s.game_victory=function(){this._score(),36==this.score&&(this.onDestroy(),this.game_state&&(this.game_state.string="Victory!"),this.unschedule(this._timer))},s.game_over=function(){this.onDestroy(),this.game_state&&(this.game_state.string="Game Over")},s.onDestroy=function(){this.node.off(m.EventType.TOUCH_START,this.onTouchStart,this);for(var t=0;t<this.col*this.row;t++)this.sprite[t].node.off(c.EventType.TOUCH_START,(function(t){}),this)},e}(_)).prototype,"scoreX",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(b.prototype,"timer",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(b.prototype,"game_state",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=b))||S));s._RF.pop()}}}));

System.register("chunks:///_virtual/resources",["./Game_Turn.ts"],(function(){"use strict";return{setters:[null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/resources', 'chunks:///_virtual/resources'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});